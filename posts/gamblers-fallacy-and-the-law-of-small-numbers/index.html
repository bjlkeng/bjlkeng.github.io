<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A discussion of common mistakes when analyzing a seemingly simple random event. ">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>The Gambler's Fallacy and The Law of Small Numbers | Bounded Rationality</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="http://bjlkeng.github.io/posts/gamblers-fallacy-and-the-law-of-small-numbers/">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    displayIndent: '2em',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": "0em 0em 1em 0em"}}
    }
});
</script><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Brian Keng">
<link rel="prev" href="../probability-the-logic-of-science/" title="Probability as Extended Logic" type="text/html">
<link rel="next" href="../optimal-betting-and-the-kelly-criterion/" title="Optimal Betting Strategies and The Kelly Criterion" type="text/html">
<meta property="og:site_name" content="Bounded Rationality">
<meta property="og:title" content="The Gambler's Fallacy and The Law of Small Numbers">
<meta property="og:url" content="http://bjlkeng.github.io/posts/gamblers-fallacy-and-the-law-of-small-numbers/">
<meta property="og:description" content="A discussion of common mistakes when analyzing a seemingly simple random event. ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-11-01T11:08:11-04:00">
<meta property="article:tag" content="Gambler's Fallacy">
<meta property="article:tag" content="Law of Large Numbers">
<meta property="article:tag" content="Law of Small Numbers">
<meta property="article:tag" content="probability">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="http://bjlkeng.github.io/">

            <span id="blog-title">Bounded Rationality</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
    <a href="index.ipynb" id="sourcelink" class="nav-link">Source</a>
    </li>


                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <div class="row">
        <!--Body content-->
            <div class="col-lg-9">
                
                
                
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">The Gambler's Fallacy and The Law of Small Numbers</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Brian Keng
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2015-11-01T11:08:11-04:00" itemprop="datePublished" title="2015-11-01 11:08">2015-11-01 11:08</time></a>
            </p>
            
        <p class="sourceline"><a href="index.ipynb" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Games and gambling have been part of human cultures around the world for millennia.  Nowadays, the connection between games of chance and mathematics (in particular probability) are so obvious that it is taught to school children.  However, the mathematics of games and gambling only started to formally <a href="https://en.wikipedia.org/wiki/Gambling#History">develop</a> in the 17th century with the works of multiple mathematicians such as Fermat and Pascal.  It is then no wonder that many incorrect beliefs around gambling have formed that are "intuitive" from a layman's perspective but fail to pass muster when applying the rigor of mathematics.</p>
<p>In this post, I want to discuss how surprisingly easy it is to be fooled into the wrong line of thinking even when approaching it using mathematics.  We'll take a look from both a theoretical (mathematics) point of view looking at topics such as the <a href="https://en.wikipedia.org/wiki/Gambler's_fallacy">Gambler's Fallacy</a> and the <a href="https://en.wikipedia.org/wiki/Hasty_generalization">law of small numbers</a> as well as do some simulations using code to gain some insight into the problem.  This post was inspired by a paper I recently came across a paper by Miller and Sanjurjo<a href="#fn-1"><sup>[1]</sup></a> that explains the surprising result of how easily we can be fooled.</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-Laws-of-Large-(and-Small)-Numbers">The Laws of Large (and Small) Numbers<a class="anchor-link" href="#The-Laws-of-Large-(and-Small)-Numbers">¶</a>
</h3>
<p>Let's start by taking a look at one of the simplest situations we can think of: flipping a fair coin.  By "fair", we usually mean that it has a 50% chance of landing heads (or "H" for short) and 50% change of landing tail (or "T").  More formally:</p>
$$P(H) = 0.5$$$$P(T) = 0.5$$<p>What about flipping a fair coin N times?  We expect to get roughly half of the coins to end up H and half T. This is confirmed by <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers#Borel.27s_law_of_large_numbers">Borel's law of large numbers</a> (one of the various forms) that states:</p>
<blockquote>
<p>If an experiment is repeated a large number of times, independently under identical conditions, then the proportion of times that any specified event  occurs approximately equals the probability of the event's occurrence on any particular trial; the larger the number of repetitions, the better the approximation tends to be.</p>
</blockquote>
<p>Let's see exactly how man repetitions we need to get close.</p>
<h4 id="Simulation">Simulation<a class="anchor-link" href="#Simulation">¶</a>
</h4>
<p>Let's first define some code to do our fair coin flip and also simulations of the fair coin flip.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [478]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span> 

<span class="k">def</span> <span class="nf">flip</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">'H'</span><span class="p">,</span> <span class="s1">'T'</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">simulate</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">flip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">'H'</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">flip_ratio</span><span class="p">(</span><span class="n">flips</span><span class="p">):</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">flips</span><span class="p">)</span>
    <span class="n">heads</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">flips</span><span class="p">)</span>
    <span class="n">tails</span> <span class="o">=</span> <span class="n">N</span> <span class="o">-</span> <span class="n">heads</span>
    <span class="c1"># Python 3: implicit float division, love it!</span>
    <span class="k">return</span> <span class="s1">'(</span><span class="si">%.3f</span><span class="s1">, </span><span class="si">%.3f</span><span class="s1">)'</span> <span class="o">%</span> <span class="p">(</span><span class="n">heads</span> <span class="o">/</span> <span class="n">N</span><span class="p">,</span> <span class="n">tails</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, let's simulate for several $N$ to see how many repetitions is enough.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [482]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span>

<span class="k">def</span> <span class="nf">toseries</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Series</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'Run </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">))])</span>

<span class="n">nvals</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
<span class="n">runs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">toseries</span><span class="p">([</span><span class="n">flip_ratio</span><span class="p">(</span><span class="n">simulate</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">runs</span><span class="p">)])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nvals</span><span class="p">]</span>

<span class="c1"># Put it in pandas data frame for pretty printing</span>
<span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'N=</span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nvalues</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[482]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>(0.600, 0.400)</td>
      <td>(0.300, 0.700)</td>
      <td>(0.200, 0.800)</td>
      <td>(0.300, 0.700)</td>
    </tr>
<tr>
<th>N=50</th>
      <td>(0.420, 0.580)</td>
      <td>(0.480, 0.520)</td>
      <td>(0.420, 0.580)</td>
      <td>(0.340, 0.660)</td>
    </tr>
<tr>
<th>N=100</th>
      <td>(0.470, 0.530)</td>
      <td>(0.500, 0.500)</td>
      <td>(0.450, 0.550)</td>
      <td>(0.430, 0.570)</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>(0.522, 0.478)</td>
      <td>(0.509, 0.491)</td>
      <td>(0.508, 0.492)</td>
      <td>(0.485, 0.515)</td>
    </tr>
<tr>
<th>N=10000</th>
      <td>(0.495, 0.505)</td>
      <td>(0.506, 0.494)</td>
      <td>(0.509, 0.491)</td>
      <td>(0.496, 0.504)</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When $N=10$, we can get some pretty wild swings like in Run 3 with only 20% of the flips resulting in heads.  Even at $N=50$, we're still not quite close to the 50/50 mark.  Once we start getting past $N=100$, we start getting quite close to a 50/50 distribution with tighter range of values around $0.5$.</p>
<h4 id="Long-Run-vs.-Short-Run">Long-Run vs. Short-Run<a class="anchor-link" href="#Long-Run-vs.-Short-Run">¶</a>
</h4>
<p>This leads to a very important point when trying to reason with the law of large numbers:</p>
<blockquote>
<p>Random events only converge to their average in the <strong>long-run</strong>.</p>
</blockquote>
<p>The corollary to this rule is:</p>
<blockquote>
<p>In the short-run <strong>anything</strong> can happen.</p>
</blockquote>
<p>If you've ever been in a casino, the last statement will ring true (for better or worse).  Not recognizing this second rule is essentially the <a href="https://en.wikipedia.org/wiki/Hasty_generalization">law of small numbers</a><a href="#fn-2"><sup>[2]</sup></a> (also known as hasty generalization/induction):</p>
<blockquote>
<p>[The law of small numbers] is an informal fallacy of faulty generalization by reaching an inductive generalization based on insufficient evidence—essentially making a hasty conclusion without considering all of the variables. In statistics, it may involve basing broad conclusions regarding the statistics of a survey from a small sample group that fails to sufficiently represent an entire population.</p>
</blockquote>
<p>For example on the $N=10$ run (or even $N=50$), we might have erroneously concluded that our coin was not fair because of the big deviation between heads and tails.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Independent-Events-and-Gambler's-Fallacy">Independent Events and Gambler's Fallacy<a class="anchor-link" href="#Independent-Events-and-Gambler's-Fallacy">¶</a>
</h3>
<p>Now let's take a look at another concept about random events: <a href="https://en.wikipedia.org/wiki/Independence_%28probability_theory%29">independence</a>.  The definition is basically what you intuitively think it might be:</p>
<blockquote>
<p>The occurrence of one [event] does not affect the probability of the other.</p>
</blockquote>
<p>Going back to our fair coin flipping example, each toss of our coin is independent from the other.  Therefore each coin toss, regardless of what has happened before, has a 50/50 chance of being heads or tails.  Easy to think about abstractly but what if we got a sequence of coin flips like this:</p>

<pre><code>H H H H T H H H H ?

</code></pre>
<p>What would you expect the next flip to be?  It's tempting to think it has a slightly higher change of being T but because of independence, it still has a 50/50 chance of being heads or tails.  This almost natural tendency to believe that T should come up next (and ignore the independence of the events) is called the <a href="https://en.wikipedia.org/wiki/Gambler's_fallacy">Gambler's Fallacy</a>:</p>
<blockquote>
<p>The gambler's fallacy, also known as the Monte Carlo fallacy or the fallacy of the maturity of chances, is the mistaken belief that, if something happens more frequently than normal during some period, it will happen less frequently in the future, or that, if something happens less frequently than normal during some period, it will happen more frequently in the future (presumably as a means of balancing nature).</p>
</blockquote>
<p>You might think that this fallacy is so obvious that no one would make this mistake but you would be wrong.  You don't have to look any further than your local casino where each roulette wheel has an electronic display showing the last ten or so spins <a href="#fn-3"><sup>[3]</sup></a>.  Many casino patrons will use this screen to religiously count how many red and black numbers have come up, along with a bunch of other various statistics in hopes that they might predict the next spin.  Of course each spin in independent, so these statistics won't help at all but that doesn't stop the casino from letting people throw their money away.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="An-Unexpected-Truth">An Unexpected Truth<a class="anchor-link" href="#An-Unexpected-Truth">¶</a>
</h3>
<p>Now that we have an understanding of the law of large numbers, independent events and the gambler's fallacy, let's try to simulate a situation where we might run into the gambler's fallacy.</p>
<p>Let's concoct a situation.  Take our fair coin.  Flip it $4$ times in a row, write down each outcome and on a piece of paper (or equivalently save it in memory).  Next, count the number of outcomes that immediately followed a heads, and the number of those outcomes that were heads.  Essentially, we're trying to compute $P(H|H)$.  Now repeat that experiment $N$ times.  We would expect that the chance of getting a H is roughly $0.5$, or $P(H|H) = 0.5$.  Let's see if our intuition matches the empirical results.</p>
<h4 id="Simulation">Simulation<a class="anchor-link" href="#Simulation">¶</a>
</h4>
<p>First, we can reuse our <code>simulate()</code> function from before to flip the coin 4 times.  Next, we'll add two more functions to help us count the outcomes that immediately follow heads (and whether or not it is a heads), as well as running the $N$ experiments.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [432]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">count_heads_after_heads</span><span class="p">(</span><span class="n">flips</span><span class="p">):</span>
    <span class="n">heads_after_heads</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Need at least one flip</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">flips</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">flips</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">flips</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">heads_after_heads</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">heads_after_heads</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">simulate_fallacy</span><span class="p">(</span><span class="n">num_flips</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
    <span class="n">p</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">count_heads_after_heads</span><span class="p">(</span><span class="n">simulate</span><span class="p">(</span><span class="n">num_flips</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">+=</span> <span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    
    <span class="k">return</span> <span class="n">p</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's run through various values of $N$, again we'll do several runs at each N to get an idea of how the experiment varies.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [454]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">gen_fallacy_data</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">num_flips</span><span class="p">,</span> <span class="n">Ns</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="n">Ns</span><span class="p">:</span>
        <span class="n">sdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">runs</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">simulate_fallacy</span><span class="p">(</span><span class="n">num_flips</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
            <span class="n">avg</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="n">sdata</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">'</span><span class="si">%.4f</span><span class="s1">'</span> <span class="o">%</span> <span class="n">avg</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="p">[</span><span class="n">toseries</span><span class="p">(</span><span class="n">sdata</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">data</span>
    
<span class="n">runs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">num_flips</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Ns</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">]</span>
<span class="n">DataFrame</span><span class="p">(</span><span class="n">gen_fallacy_data</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">num_flips</span><span class="p">,</span> <span class="n">Ns</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'N=</span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">Ns</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[454]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>0.4444</td>
      <td>0.4286</td>
      <td>0.4286</td>
      <td>0.6000</td>
    </tr>
<tr>
<th>N=100</th>
      <td>0.4302</td>
      <td>0.4101</td>
      <td>0.4413</td>
      <td>0.4623</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>0.4101</td>
      <td>0.4118</td>
      <td>0.4070</td>
      <td>0.4028</td>
    </tr>
<tr>
<th>N=10000</th>
      <td>0.4101</td>
      <td>0.4027</td>
      <td>0.4076</td>
      <td>0.4004</td>
    </tr>
<tr>
<th>N=100000</th>
      <td>0.4049</td>
      <td>0.4027</td>
      <td>0.4062</td>
      <td>0.4037</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Surprised by the results?  There's definitely something fishy going on here.  Even for very large $N$, we're getting values which seem to converge somewhere close to $0.40$.  At $N=100000$, we should definitely start getting into the territory of the law of large numbers.</p>
<p>Let's try to play around with the parameters.  How about increasing <code>num_flips</code>?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [443]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">runs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">num_flips</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Ns</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
<span class="n">DataFrame</span><span class="p">(</span><span class="n">gen_fallacy_data</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">num_flips</span><span class="p">,</span> <span class="n">Ns</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'N=</span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">Ns</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[443]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>0.3958</td>
      <td>0.2917</td>
      <td>0.4367</td>
      <td>0.4148</td>
    </tr>
<tr>
<th>N=100</th>
      <td>0.4419</td>
      <td>0.4179</td>
      <td>0.4248</td>
      <td>0.4520</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>0.4351</td>
      <td>0.4445</td>
      <td>0.4375</td>
      <td>0.4418</td>
    </tr>
<tr>
<th>N=10000</th>
      <td>0.4453</td>
      <td>0.4461</td>
      <td>0.4402</td>
      <td>0.4445</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Interesting, it seems to be converging to a different number now.  Let's keep pumping it up and see what happens.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [449]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="n">runs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Ns</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">]</span>
<span class="k">for</span> <span class="n">nf</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">]:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">gen_fallacy_data</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">nf</span><span class="p">,</span> <span class="n">Ns</span><span class="p">),</span> 
                   <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'N=</span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">Ns</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Number of flips = </span><span class="si">%d</span><span class="s2">:"</span> <span class="o">%</span> <span class="n">nf</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of flips = 100:
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>0.5095</td>
      <td>0.5142</td>
      <td>0.4685</td>
      <td>0.5295</td>
    </tr>
<tr>
<th>N=100</th>
      <td>0.4948</td>
      <td>0.5140</td>
      <td>0.4939</td>
      <td>0.4863</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>0.4966</td>
      <td>0.4949</td>
      <td>0.4922</td>
      <td>0.4926</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of flips = 1000:
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>0.5031</td>
      <td>0.5005</td>
      <td>0.5001</td>
      <td>0.5033</td>
    </tr>
<tr>
<th>N=100</th>
      <td>0.5009</td>
      <td>0.4995</td>
      <td>0.4971</td>
      <td>0.4987</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>0.4986</td>
      <td>0.5014</td>
      <td>0.5002</td>
      <td>0.5000</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of flips = 5000:
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>Run 1</th>
      <th>Run 2</th>
      <th>Run 3</th>
      <th>Run 4</th>
    </tr></thead>
<tbody>
<tr>
<th>N=10</th>
      <td>0.4958</td>
      <td>0.4975</td>
      <td>0.4967</td>
      <td>0.5017</td>
    </tr>
<tr>
<th>N=100</th>
      <td>0.4987</td>
      <td>0.4997</td>
      <td>0.5003</td>
      <td>0.4998</td>
    </tr>
<tr>
<th>N=1000</th>
      <td>0.4996</td>
      <td>0.4995</td>
      <td>0.4998</td>
      <td>0.4999</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we see that the runs are much closer to what we would expect.  So obviously the number of flips plays a big part in the bias we were initially seeing, while the number of experiments less so.</p>
<h4 id="A-Hidden-Bias">A Hidden Bias<a class="anchor-link" href="#A-Hidden-Bias">¶</a>
</h4>
<p>Let's take a look at our first simulation with <code>num_flips=4</code> and the probability of flips for each realization of four flips.  The following table enumerates all possible sequences and shows the count of the numerator and denominator of our <code>count_heads_after_heads()</code> function.  We also add the last columns to show the ratio between the two, which we denote loosely as the empirical probability of heads after heads.</p>
<table>
<thead><tr>
<th style="text-align:center">Number of Heads</th>
<th style="text-align:center">Sequence</th>
<th style="text-align:center"># of Flips immediately <em>after</em> H</th>
<th style="text-align:center"># of Flips immediately after H that is H</th>
<th style="text-align:center">$P(H \vert H)$</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">TTTT</td>
<td style="text-align:center">0</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">TTTH</td>
<td style="text-align:center">0</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">TTHT</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">THTT</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">HTTT</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">TTHH</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">THTH</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">THHT</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$\frac{1}{2}$</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">HTTH</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">HTHT</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">HHTT</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$\frac{1}{2}$</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">THHH</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">HTHH</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$\frac{1}{2}$</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">HHTH</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$\frac{1}{2}$</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">HHHT</td>
<td style="text-align:center">3</td>
<td style="text-align:center">2</td>
<td style="text-align:center">$\frac{2}{3}$</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">HHHH</td>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><strong>Expected Value</strong></td>
<td style="text-align:center">$\frac{17}{42} = 0.404\ldots$</td>
</tr>
</tbody>
</table>
<p>The last row shows the expected value which is just the simple average of the last column.
You can see that this analysis matches what our simulation shows, a value close to $0.40$.  But where does the bias coming from?</p>
<p>First, we should note that for <code>num_flips=4</code>, we would (correctly) expect roughly $2$ out of $4$ flips to be heads.  But what about a heads after heads?  For a given number of heads (first column), for example $2$, it is impossible to get $2$ or more heads (fourth column).  Likewise, the total number of flips after H must be less than or equal to $2$.  So the ratio of the two leads to an empirical probability that is strictly less than $\frac{2}{4}$.  This big constraint of a short run of flips over represents tails for a given amount of heads.  We saw that as we increase the run length (<code>num_flips</code> in our code), the probability approaches the expected 50/50 distribution.</p>
<p>But why does increasing the number of experiments (<code>N</code> in our code) not work as per our expectation of the law of large numbers?  The issue is that our "unit" of measurement is not a single flip, but rather independent short sequences of flips (in our case $4$).  In this case, we just repeatedly run into this bias for each independent experiment we perform, regardless of how many times it is run.  A different setup where each of the short runs were concatenated together would produce the 50/50 split our intuition expects effectively removing the bias.</p>
<h4 id="Psychology-of-Gambler's-Fallacy">Psychology of Gambler's Fallacy<a class="anchor-link" href="#Psychology-of-Gambler's-Fallacy">¶</a>
</h4>
<p>One of the reasons why this bias is so insidious is that, as humans, we naturally tend to update our beliefs on finite sequences of observations.  Imagine the roulette wheel with the electronic display.  When looking for patterns, most people will just take a glance at the current 10 numbers and make a mental note of it.  Five minutes later, they may do the same thing.  This leads to precisely the bias that we saw above of using short sequences to infer the overall probability of a situation.  Thus, the more "observations" they make, the strong the tendency to fall for the Gambler's Fallacy.</p>
<p>Of course, there are ways around making this mistake.  As we saw, the most straight forward is to observe longer sequences.  However, there's reason to believe that this is not practical given the limitations of human attention span and memory.  Another method is to just do straight counts of the favorable outcomes and total outcomes (instead of computing interim probabilities after each "observation" like we did in our experiment), and then just compute the probability of this composite sample.  This leads to the expected true long-run probability.  Again, this bumps up against the limitations of human attention and memory.  Probably the best way is to use external aids (e.g. pen and paper, computer) to properly record and compute the probability.  Unfortunately, casinos are not as sympathetic to this solution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">¶</a>
</h3>
<p>Probability is far from a natural line of human thinking.  Humans do have limited capacities in attention span and memory, which bias the observations we make and fool us into such fallacies such as the Gambler's Fallacy.  Even with knowledge of probability, it is easy to be misled into an incorrect line of thinking.  The best we can do is be aware of these biases and take extra measures to avoid them.</p>
<p>One of my favorite thinkers is Charlie Munger who espouses this line of thinking.  He always has something interesting to say and so I'll leave you with one of his quotes:</p>
<blockquote>
<p>If you don’t get elementary probability into your repertoire you go through a long life a one-legged man in an ass-kicking contest.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Notes">Notes<a class="anchor-link" href="#Notes">¶</a>
</h3>
<p>List of Notes: <sup class="footnote-ref" id="fnref-1"><a href="#fn-1">1</a></sup>, <sup class="footnote-ref" id="fnref-2"><a href="#fn-2">2</a></sup>, <sup class="footnote-ref" id="fnref-3"><a href="#fn-3">3</a></sup></p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1"><p>Miller, Joshua Benjamin and Sanjurjo, Adam, Surprised by the Gambler's and Hot Hand Fallacies? A Truth in the Law of Small Numbers (September 15, 2015). IGIER Working Paper #552. Available at SSRN: <a href="http://ssrn.com/abstract=2627354">http://ssrn.com/abstract=2627354</a> or <a href="http://dx.doi.org/10.2139/ssrn.2627354">http://dx.doi.org/10.2139/ssrn.2627354</a><a href="#fnref-1" class="footnote">↩</a></p></li>
<li id="fn-2"><p>Of course it's not <em>really</em> a law, especially since it is a fallacy.<a href="#fnref-2" class="footnote">↩</a></p></li>
<li id="fn-3"><p>Check out this story: <a href="http://gawker.com/5919675/what-are-the-odds-las-vegas-roulette-wheel-stops-on-same-number-seven-times-in-a-row">Las Vegas Roulette Wheel Stops on Same Number 7 Times in a Row</a>.  Imagine you were there when the wheel stopped on the same number for the sixth time.  How tempted would you be to make a huge bet on it <em>not</em> coming up to that number on the seventh time?<a href="#fnref-3" class="footnote">↩</a></p></li>
</ol>
</div>

</div>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/gamblers-fallacy/" rel="tag">Gambler's Fallacy</a></li>
            <li><a class="tag p-category" href="../../categories/law-of-large-numbers/" rel="tag">Law of Large Numbers</a></li>
            <li><a class="tag p-category" href="../../categories/law-of-small-numbers/" rel="tag">Law of Small Numbers</a></li>
            <li><a class="tag p-category" href="../../categories/probability/" rel="tag">probability</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../probability-the-logic-of-science/" rel="prev" title="Probability as Extended Logic">Previous post</a>
            </li>
            <li class="next">
                <a href="../optimal-betting-and-the-kelly-criterion/" rel="next" title="Optimal Betting Strategies and The Kelly Criterion">Next post</a>
            </li>
        </ul></nav></aside><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    displayIndent: '2em',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": "0em 0em 1em 0em"}}
    }
});
</script></article>
</div>
            <div class="col-md-3 ">
            <div class="card card-body bg-light">
            <p>
            I'm <a href="http://www.briankeng.com/about">Brian Keng</a>, 
            a former academic, current data scientist and engineer.  This is
            <a href="../../">the place</a>
            where I write
            about all things technical.
            </p>
            <p>
            Twitter: <a href="http://www.twitter.com/bjlkeng">@bjlkeng</a>
            </p>

            <br>
</div>

<!-- Begin MailChimp Signup Form -->
<hr>
<link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{clear:left; font:13px Helvetica,Arial,sans-serif; }
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//briankeng.us10.list-manage.com/subscribe/post?u=cedf72ca8daa891e57f4379a0&amp;id=1f1563094f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <b>Signup for Email Blog Posts</b>
    <div id="mc_embed_signup_scroll">
<div>
    <label for="mce-EMAIL"> Email Address </label>
    <input type="email" value="" name="EMAIL" class="required email form-control input-sm" id="mce-EMAIL">
</div>
    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_cedf72ca8daa891e57f4379a0_1f1563094f" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-default btn-xs"></div>
    </div>
</form>
</div>
<script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script><!--End mc_embed_signup-->
</div>
            </div>
        </div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2022         <a href="mailto:brian@briankeng.com">Brian Keng</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>



        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-15314898-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
